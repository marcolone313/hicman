<nav th:fragment="navbar(activeTab)" class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <a class="navbar-brand" th:href="@{/}">
            <img th:src="@{/images/logo.png}" alt="Finance Site" height="40">
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" 
                       th:href="@{/}"
                       th:classappend="${activeTab == 'home'} ? 'active' : ''">
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" 
                       th:href="@{/services}"
                       th:classappend="${activeTab == 'services'} ? 'active' : ''">
                        Servizi
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" 
                       th:href="@{/about}"
                       th:classappend="${activeTab == 'about'} ? 'active' : ''">
                        Chi Siamo
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" 
                       th:href="@{/blog}"
                       th:classappend="${activeTab == 'blog'} ? 'active' : ''">
                        Rassegna Stampa
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" 
                       th:href="@{/contact}"
                       th:classappend="${activeTab == 'contact'} ? 'active' : ''">
                        Contatti
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const navbar = document.querySelector('.navbar');
        
        function updateNavbar() {
            if (window.scrollY > 50) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        }
        
        window.addEventListener('scroll', updateNavbar);
        updateNavbar();
    });
</script>