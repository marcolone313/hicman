<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/header :: header}"></head>

<body>
    <!-- Navbar Fragment -->
    <nav th:replace="~{fragments/navbar :: navbar('press')}"></nav>

    <main>
        <!-- Hero Section -->
        <section class="testimonials-hero-section">
            <div class="hero-overlay-finance"></div>
            <div class="hero-content-testimonials">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-10 text-center">
                            <div class="testimonials-icon mb-4">
                                <i class="bi bi-chat-quote"></i>
                            </div>
                            <h1 class="testimonials-hero-title animate__animated animate__fadeInUp">
                                Dicono di Noi
                            </h1>
                            <p class="testimonials-hero-subtitle animate__animated animate__fadeInUp animate__delay-1s">
                                Le opinioni di chi ha scelto Hicman Capital Partner
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials-content-section py-5">
            <div class="container py-4">
                
                <!-- Empty State -->
                <div th:if="${#lists.isEmpty(testimonials)}" class="empty-state text-center py-5">
                    <div class="empty-icon mb-4">
                        <i class="bi bi-chat-quote"></i>
                    </div>
                    <h3 class="empty-title">Nessuna testimonianza disponibile</h3>
                    <p class="empty-text">Al momento non ci sono testimonianze pubblicate.</p>
                </div>

                <!-- Testimonials Grid -->
                <div th:unless="${#lists.isEmpty(testimonials)}" class="row g-4">
                    <div class="col-lg-4 col-md-6" th:each="testimonial : ${testimonials}">
                        <article class="testimonial-card h-100">
                            <!-- Quote Icon -->
                            <div class="testimonial-quote-icon">
                                <i class="bi bi-quote"></i>
                            </div>

                            <!-- Content -->
                            <div class="testimonial-content">
                                <p class="testimonial-text" th:text="${testimonial.quote}">
                                    Contenuto della testimonianza che esprime l'opinione del cliente 
                                    riguardo la nostra azienda e i nostri servizi...
                                </p>
                            </div>

                            <!-- Author Info -->
                            <div class="testimonial-source">
                                <!-- Logo (se presente) -->
                                <div class="testimonial-logo" th:if="${testimonial.logoUrl != null}">
                                    <img th:src="@{${testimonial.logoUrl}}" th:alt="${testimonial.sourceName}" />
                                </div>
                                
                                <!-- Avatar placeholder (se non c'Ã¨ logo) -->
                                <div class="author-avatar" th:unless="${testimonial.logoUrl != null}">
                                    <i class="bi bi-person-circle"></i>
                                </div>
                                
                                <div class="testimonial-info">
                                    <h4 class="author-name" th:text="${testimonial.sourceName}">
                                        Nome Fonte
                                    </h4>
                                    <p class="author-role" th:if="${testimonial.sourceRole}" th:text="${testimonial.sourceRole}">
                                        Ruolo/Testata
                                    </p>
                                </div>
                            </div>

                            <!-- External Link (se presente) -->
                            <div class="testimonial-link mt-3" th:if="${testimonial.externalLink != null}">
                                <a th:href="${testimonial.externalLink}" 
                                   class="btn btn-outline-primary btn-sm" 
                                   target="_blank" 
                                   rel="noopener noreferrer">
                                    <i class="bi bi-box-arrow-up-right"></i>
                                    Leggi l'articolo completo
                                </a>
                            </div>

                            <!-- Published Date -->
                            <div class="testimonial-date mt-3">
                                <small class="text-muted">
                                    <i class="bi bi-calendar3"></i>
                                    <span th:text="${#temporals.format(testimonial.publishedDate, 'dd MMMM yyyy')}">
                                        Data pubblicazione
                                    </span>
                                </small>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section py-5 text-center text-white">
            <div class="container">
                <h2 class="mb-3">Vuoi essere il prossimo a parlare di noi?</h2>
                <p class="lead mb-4">Contattaci per scoprire come possiamo aiutarti a raggiungere i tuoi obiettivi finanziari</p>
                <a href="/contatti" class="btn btn-light btn-lg">
                    <i class="bi bi-envelope"></i> Contattaci
                </a>
            </div>
        </section>
    </main>

    <!-- Footer Fragment -->
    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>